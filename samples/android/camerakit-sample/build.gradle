allprojects {
    ext {
        //internal>
        snapMavenUri = 'gcs://snapengine-maven-publish/releases'
        //<internal
        bundledMavenRepo = rootProject.file('maven')
        kotlinVersion = '1.3.61'
        cameraKitDistributionVersion = rootProject.file('../../../VERSION').text.trim()
        cameraKitDistributionCode = 1
        //internal>
        def refCount = 'git rev-list origin/master --count'.execute().text.trim()
        if (refCount && refCount.isInteger()) {
            cameraKitDistributionCode = refCount.toInteger()
        }
        //<internal
        cameraKitVersion = "$cameraKitDistributionVersion-dee41cb.30"
    }

    buildscript {
        repositories {
            google()
            jcenter()

        }
        dependencies {
            classpath 'com.android.tools.build:gradle:3.5.3'
            classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
        }
    }

    repositories {
        maven {
            url bundledMavenRepo.toURI()
        }
        //internal>
        maven {
            url snapMavenUri
        }
        //<internal
        google()
        jcenter()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

//internal>
apply from: 'eject.gradle'
//<internal
